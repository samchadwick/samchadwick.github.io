<!doctype HTML>
<html>
<head>
    <meta name="apple-mobile-web-app-capable" content="yes">
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <script>
        AFRAME.registerComponent('scene1end', {
            init: function () {
                this.el.addEventListener('animationcomplete', function () {
                    var scene2 = document.querySelector('#scene2');
                    console.log("Start Scene 2");
                    scene2.emit('start');
                    [].slice.call(scene2.children).forEach(child => {
                        child.emit("start");
                    });
                });
            }
        });

        AFRAME.registerComponent('model-opacity', {
            schema: {default: 1.0},
            init: function () {
                this.el.addEventListener('model-loaded', this.update.bind(this));
            },
            update: function () {
                var mesh = this.el.getObject3D('mesh');
                var data = this.data;
                if (!mesh) { return; }
                mesh.traverse(function (node) {
                    if (node.isMesh) {
                        node.material.opacity = data;
                        node.material.transparent = data < 1.0;
                        node.material.needsUpdate = true;
                    }
                });
            }
        });

        AFRAME.registerComponent('scene2end', {
            init: function () {
                var scene2 = document.querySelector('#scene2');
                this.el.addEventListener('animationcomplete', function () {
                    var scene3 = document.querySelector('#scene3');
                    console.log("Start Scene 3");
                    scene2.emit('end');
                    [].slice.call(scene2.children).forEach(child => {
                        child.emit("end");
                    });
                    scene3.emit('start');
                    [].slice.call(scene3.children).forEach(child => {
                        child.emit("start");
                    });
                });
            }
        });
        AFRAME.registerComponent('scene3end', {
            init: function () {
                var scene3 = document.querySelector('#scene3');
                this.el.addEventListener('animationcomplete', function () {
                    var scene4 = document.querySelector('#scene4');
                    console.log("Start Scene 4");
                    scene3.emit('end');
                    [].slice.call(scene3.children).forEach(child => {
                        child.emit("end");
                    });
                    scene4.emit('start');
                    [].slice.call(scene4.children).forEach(child => {
                        child.emit("start");
                    });
                });
            }
        });
        AFRAME.registerComponent('scene4end', {
            init: function () {
                var scene1 = document.querySelector('#scene1');
                var scene2 = document.querySelector('#scene2');
                var scene3 = document.querySelector('#scene3');
                var scene4 = document.querySelector('#scene4');
                this.el.addEventListener('animationcomplete', function () {
                    var scene5 = document.querySelector('#scene5');
                    console.log("Start Scene 5");
                    document.querySelector('#dummyLogo').emit('start');
                    document.querySelector('#dummyLogo2').emit('start');
                    scene4.emit('end');
                    scene3.emit('endFully');
                    scene2.emit('endFully');
                    scene1.emit('endFully');
                    document.querySelector('#rig').emit('start');
                    setTimeout(() => {
                        scene5.emit('start');
                        [].slice.call(scene5.children).forEach(child => {
                            child.emit("start");
                        });
                    }, 4000);
                    setTimeout(() => {
                        document.querySelector('#dummyLogo').emit('end');
                        document.querySelector('#dummyLogo2').emit('end');
                    }, 4750);
                });
            }
        });
        let fusedObject;
        // modify the THREE.js materials to allow for model opacity
        AFRAME.registerComponent('group-opacity', {
            schema: {opacity: {default: 1.0}},
            update: function () {
                var opacity = this.data.opacity;
                var children = [].slice.call(this.el.children);
                setChildOpacity(children, opacity);
            }
        });

        function setChildOpacity(children, opacity) {
            children
                .filter(function (child) {
                    return child.hasAttribute('material') || child.hasAttribute('group-opacity') || child.hasAttribute("obj-model");
                })
                .forEach(function (child) {
                    child.setAttribute('material', "opacity: " + opacity);
                    child.setAttribute('model-opacity', opacity);
                    child.setAttribute('group-opacity', "opacity: " + opacity);
                });
            children
                .filter(function (child) {
                    return child.hasAttribute('value');
                })
                .forEach(function (child) {
                    child.setAttribute('opacity', opacity);
                });
            children.forEach((child) => {
                var nestedChildren = [].slice.call(child.children);
                if (nestedChildren.length > 0) {
                    setChildOpacity(nestedChildren, opacity);
                }
            });
        }

        // Rotation of logo
        AFRAME.registerComponent('logospin', {
            init: function () {
                var lastSpan = new Date();

                this.el.addEventListener('click', () => {
                    if (new Date() - lastSpan > 10000) {
                        this.el.emit('startspin');
                        lastSpan = new Date();
                    }
                });
                this.el.addEventListener('mouseenter', () => {
                    fusedObject = this.el;
                    if (new Date() - lastSpan > 10000) {
                        this.el.emit('startspin');
                        lastSpan = new Date();
                    }
                });
            },
        });
        // Video play and pause on-click
        AFRAME.registerComponent('video', {
            init: function () {
                document.querySelector("#video").pause();
                document.querySelector("#videoPanel").addEventListener('click', () => {
                    document.querySelector("#videoIcon1").setAttribute('visible', false);
                    document.querySelector("#video").play();
                });
                document.querySelector("#videoPanel").addEventListener('mouseleave', () => {
                    document.querySelector("#video").pause();
                });
                document.querySelector("#videoPanel").addEventListener('mouseenter', () => {
                    fusedObject = this.el;
                    document.querySelector("#videoIcon1").setAttribute('visible', false);
                    document.querySelector("#video").play();
                });
            },
        });
        AFRAME.registerComponent('sample1video', {
            init: function () {
                document.querySelector("#sample1video").pause();
                document.querySelector("#sample1video").addEventListener('click', () => {
                    document.querySelector("#videoIcon2").setAttribute('visible', false);
                    document.querySelector("#sample1").play();
                });
                document.querySelector("#sample1video").addEventListener('mouseleave', () => {
                    document.querySelector("#sample1").pause();
                });
                document.querySelector("#sample1video").addEventListener('mouseenter', () => {
                    document.querySelector("#videoIcon2").setAttribute('visible', false);
                    fusedObject = this.el;
                    document.querySelector("#sample1").play();
                });
            },
        });
        AFRAME.registerComponent('sample2video', {
            init: function () {
                document.querySelector("#sample2video").pause();
                document.querySelector("#sample2video").addEventListener('click', () => {
                    document.querySelector("#videoIcon3").setAttribute('visible', false);
                    document.querySelector("#sample2").play();
                });
                document.querySelector("#sample2video").addEventListener('mouseleave', () => {
                    document.querySelector("#sample2").pause();
                });
                document.querySelector("#sample2video").addEventListener('mouseenter', () => {
                    document.querySelector("#videoIcon3").setAttribute('visible', false);
                    fusedObject = this.el;
                    document.querySelector("#sample2").play();
                });
            },
        });
        AFRAME.registerComponent('profile', {
            init: function () {
                this.el.addEventListener('click', (e) => {
                    pos = this.el.getAttribute('position');
                    this.el.setAttribute('position', pos.x + ' 1.7 0.75');
                    this.el.children[0].setAttribute('visible', true);
                });
                this.el.addEventListener('mouseleave', (e) => {
                    pos = this.el.getAttribute('position');
                    this.el.setAttribute('position', pos.x + ' 1.7 0.8');
                    this.el.children[0].setAttribute('visible', false);
                })
            }
        });

        AFRAME.registerComponent('button', {
            init: function () {
                this.el.addEventListener('click', () => {
                    window.open("https://www.ubs.com/global/en/investment-bank/research-academy/contact-us.html", "_blank");
                });
                this.el.addEventListener('mouseenter', () => {
                    fusedObject = this.el;
                });
            }
        });

        AFRAME.registerComponent('dynamiccursor', {
            init: function () {
                this.el.sceneEl.addEventListener('enter-vr', function () {
                    document.body.addEventListener('click', () => {
                        fusedObject.emit('click')
                    }, true);
                    this.el.setAttribute('cursor', "fuse: false; rayOrigin: camera;");
                });
                this.el.sceneEl.addEventListener('exit-vr', function () {
                    document.body.removeEventListener('click', () => {
                        fusedObject.emit('click')
                    }, true);
                    this.el.setAttribute('cursor', "fuse: true; fuseTimeout: 500; rayOrigin: mouse;");
                });
            }
        });

    </script>
</head>
<body>
<a-scene>

    <a-assets>
        <a-asset-item id="threekeys-obj" src="/rav1/assets/threekeys.obj"></a-asset-item>
        <a-asset-item id="threekeys-mtl" src="/rav1/assets/threekeys.mtl"></a-asset-item>
        <audio id="sound" src="/rav1/assets/intro_movie.mp3"></audio>
        <a-asset-item id="arrow-obj" src="/rav1/assets/arrow.obj"></a-asset-item>
        <a-asset-item id="arrow-mtl" src="/rav1/assets/arrow.mtl"></a-asset-item>
        <a-asset-item id="video-icon-obj" src="/rav1/assets/video-icon.obj"></a-asset-item>
        <a-asset-item id="video-icon-mtl" src="/rav1/assets/video-icon.mtl"></a-asset-item>
        <img id="amar" src="/rav1/profiles/amar.png">
        <img id="courtney" src="/rav1/profiles/courtney.jpeg">
        <img id="geoff" src="/rav1/profiles/geoff.png">
        <img id="helen" src="/rav1/profiles/helen.jpeg">
        <img id="neil" src="/rav1/profiles/neil.jpeg">
        <img id="rob" src="/rav1/profiles/rob.jpeg">
        <video id="video" src="/rav1/assets/intro_movie.mp4" crossorigin="anonymous" playsinline controls></video>
        <video id="sample1" src="/rav1/assets/sample1.mp4" crossorigin="anonymous" playsinline controls></video>
        <video id="sample2" src="/rav1/assets/sample2.mp4" crossorigin="anonymous" playsinline controls></video>
    </a-assets>
    <!-- Mobile browsers block autoplay.  Needs to be triggered by a gesture. -->
    <a-sound src="#sound" autoplay></a-sound>
    <a-sky color="#FFFFFF"></a-sky>
    <!-- Need to find a way to turn off the camera rotation is the user is wearing a headset -->
    <a-entity id="rig" position="0 1.6 0"
              animation="property: rotation; to: 0 -90 0; delay: 4000; dur: 4000;"
              animation__2="property: rotation; from: 0 -90 0; to: 0 -180 0; delay: 10000; dur: 4000;"
              animation__3="property: rotation; from: 0 -180 0; to: 0 -270 0; delay: 18000; dur: 4000;"
              animation__4="property: rotation; from: 0 -270 0; to: 0 -360 0; dur: 1; delay: 1100; startEvents: start;">
        <a-entity id="camera" camera look-controls></a-entity>
    </a-entity>
    <a-entity dynamiccursor id="cursor" camera look-controls wasd-controls movement-controls="fly: true" mouse-cursor
              cursor="fuse: true; fuseTimeout: 500; rayOrigin: mouse;" raycaster="objects: .clickable"
              position="0 1.6 0"></a-entity>

    <!-- Scene 1-->
    <a-entity id="scene1" group-opacity="opacity: 1.0"
              animation="property: group-opacity.opacity; from: 1; to: 0.9; delay: 5500;"
              animation__clear="property: group-opacity.opacity; from: 0.9; to: 0; startEvents: endFully;"
              animation__dispose="property: visible; to: false; startEvents: endFully; delay: 1000;">

        <a-box color="grey" position="0.2 1.5 1" rotation="0 0 0" scale="0.2 0.2 0.2"
               animation="property: position; to: -2 3 -5; dur: 3000" easing="easeInOutQuad"
               animation__color="property: material.color; from: #808080; to: #FF0000; delay: 2000; dur: 2000;"></a-box>
        <a-box color="grey" position="0.2 1.5 1" rotation="0 0 0" scale="0.2 0.2 0.2"
               animation="property: position; to: -3 1 -3; dur: 3000" easing="easeInOutQuad"
               animation__color="property: material.color; from: #808080; to: #FF0000; delay: 2000; dur: 2000;"></a-box>
        <a-box color="grey" position="0.2 1.5 1" rotation="0 0 0" scale="0.2 0.2 0.2"
               animation="property: position; to: -1 1 -4; dur: 3000" easing="easeInOutQuad"
               animation__color="property: material.color; from: #808080; to: #FF0000; delay: 2000; dur: 2000;"></a-box>
        <a-box color="grey" position="3.2 1.5 1" rotation="0 0 0" scale="0.2 0.2 0.2"
               animation="property: position; to: 2 1.2 -3.5; dur: 3000" easing="easeInOutQuad"
               animation__color="property: material.color; from: #808080; to: #FF0000; delay: 2000; dur: 2000;"></a-box>
        <a-box color="grey" position="2.8 1.5 1" rotation="0 0 0" scale="0.2 0.2 0.2"
               animation="property: position; to: 1 1 -1.5; dur: 3000" easing="easeInOutQuad"
               animation__color="property: material.color; from: #808080; to: #FF0000; delay: 2000; dur: 2000;"></a-box>
        <a-box color="grey" position="2.6 1.5 1" rotation="0 0 0" scale="0.2 0.2 0.2"
               animation="property: position; to: -1 0.8 -12; dur: 3000" easing="easeInOutQuad"
               animation__color="property: material.color; from: #808080; to: #FF0000; delay: 2000; dur: 2000;"></a-box>
        <a-box color="grey" position="2.4 1.5 1" rotation="0 0 0" scale="0.2 0.2 0.2"
               animation="property: position; to: 2 3 -2; dur: 3000" easing="easeInOutQuad"
               animation__color="property: material.color; from: #808080; to: #FF0000; delay: 2000; dur: 2000;"></a-box>
        <a-box material="color: black; opacity: 1; wireframe: true" position="0.3 1.5 1" rotation="0 0 0"
               scale="0.2 0.2 0.2"
               animation="property: position; to: 2 4 -4; dur: 3000; delay: 500"></a-box>
        <a-box material="color: black; opacity: 1; wireframe: true" position="0.3 1.5 1" rotation="0 0 0"
               scale="0.2 0.2 0.2"
               animation="property: position; to: -1.5 2 -2; dur: 3000; delay: 500"></a-box>

        <a-text color="black" position="0.2 1.5 1" scale="1 1 1" value="The"
                animation__show="property: position; to: -2 2 -4; dur: 3000; delay: 100"></a-text>
        <a-text color="black" position="0.4 1.5 1" scale="1 1 1" value="world"
                animation="property: position; to: -1.55 2 -4; dur: 3000; delay: 300"></a-text>
        <a-text color="black" position="0.6 1.5 1" scale="1 1 1" value="looks"
                animation="property: position; to: -0.95 2 -4; dur: 3000; delay: 500"></a-text>
        <a-text color="black" position="0.7 1.5 1" scale="1 1 1" value="different"
                animation="property: position; to: -0.35 2 -4; dur: 3000; delay: 700"></a-text>
        <a-text color="black" position="0.9 1.5 1" scale="1 1 1" value="when"
                animation="property: position; to: 0.55 2 -4; dur: 3000; delay: 800"></a-text>

        <a-text color="black" position="0.2 1.3 1" scale="1 1 1" value="you"
                animation="property: position; to: -1.9 1.7 -4; dur: 3000; delay: 500"></a-text>
        <a-text color="black" position="0.4 1.3 1" scale="1 1 1" value="take"
                animation="property: position; to: -1.5 1.7 -4; dur: 3000; delay: 700"></a-text>
        <a-text color="black" position="0.7 1.3 1" scale="1 1 1" value="a"
                animation="property: position; to: -1.0 1.7 -4; dur: 3000; delay: 800"></a-text>
        <a-text color="black" position="0.8 1.3 1" scale="1 1 1" value="fresh"
                animation="property: position; to: -0.8 1.7 -4; dur: 3000; delay: 900;"
                animation__color="property: text.color; from: #000000; to: #FF0000; delay: 2500; dur: 2000;"></a-text>
        <a-text color="black" position="0.9 1.3 1" scale="1 1 1" value="perspective"
                animation="property: position; to: -0.22 1.7 -4; dur: 3000; delay: 1000;"
                animation__color="property: text.color; from: #000000; to: #FF0000; delay: 2500; dur: 2000;"
                scene1end></a-text>
    </a-entity>

    <!-- Scene 2 -->
    <a-entity id="scene2" group-opacity="opacity: 0"
              animation__start="property: group-opacity.opacity; from: 0; to: 1; startEvents: start;"
              animation__end="property: group-opacity.opacity; from: 1; to: 0.9; delay: 3000; startEvents: end;"
              animation__clear="property: group-opacity.opacity; from: 0.9; to: 0; startEvents: endFully;"
              animation__dispose="property: visible; to: false; startEvents: endFully; delay: 1000;">

        <a-box color="grey" position="-2.2 1 -3" rotation="0 0 0" scale="0.2 0.2 0.2"
               animation="property: position; to: 3 1.2 -2; dur: 2500; startEvents: start;"
               easing="easeInOutQuad"></a-box>
        <a-box color="grey" position="-2.2 1 -2" rotation="0 0 0" scale="0.3 0.3 0.3"
               animation="property: position; to: 4 1.2 -1; dur: 3000; delay: 500; startEvents: start;"
               easing="easeInOutQuad"
               animation__color="property: material.color; from: #808080; to: #FF0000; delay: 2000; dur: 2000; startEvents: start;"
               scene2end></a-box>
        <a-box material="color: black; opacity: 1; wireframe: true" position="-2.2 1 1" rotation="0 0 0"
               scale="0.2 0.2 0.2"
               animation="property: position; to: 2 1 1; dur: 3000; delay: 200; startEvents: start;"></a-box>

        <a-text color="black" position="-2.2 1.5 -2" scale="1 1 1" rotation="0 -90 0" value="It"
                animation="property: position; to: 5 2 -1.8; dur: 3000; delay: 400; startEvents: start;"></a-text>
        <a-text color="black" position="-1.8 1.5 -1" scale="1 1 1" rotation="0 -90 0" value="can"
                animation="property: position; to: 5 2 -1.6; dur: 3000; delay: 300; startEvents: start;"></a-text>
        <a-text color="black" position="-2.1 1.5 0" scale="1 1 1" rotation="0 -90 0" value="highlight"
                animation="property: position; to: 5 2 -1.2; dur: 3000; delay: 500; startEvents: start;"></a-text>
        <a-text color="red" position="-2.3 1.5 1.5" scale="1 1 1" rotation="0 -90 0" value="new"
                animation="property: position; to: 5 2 -0.3; dur: 3000; delay: 700; startEvents: start;"></a-text>
        <a-text color="black" position="-2.4 1.5 2" scale="1 1 1" rotation="0 -90 0" value="opportunities"
                animation="property: position; to: 5 2 0.15; dur: 3000; delay: 800; startEvents: start;"></a-text>
    </a-entity>

    <!-- Scene 3 -->
    <a-entity id="scene3" group-opacity="opacity: 0"
              animation__start3="property: group-opacity.opacity; from: 0; to: 1; startEvents: start;"
              animation__end3="property: group-opacity.opacity; from: 1; to: 0.9; delay: 3000; startEvents: end;"
              animation__clear="property: group-opacity.opacity; from: 0.9; to: 0; startEvents: endFully;"
              animation__dispose="property: visible; to: false; startEvents: endFully; delay: 1000;">

        <a-box color="grey" position="-0.2 1 -1" rotation="0 0 0" scale="0.2 0.2 0.2"
               animation="property: position; to: 2 1.2 2; dur: 3000; delay: 800; startEvents: start;"
               easing="easeInOutQuad"></a-box>
        <a-box color="grey" position="-0.2 1 -1" rotation="0 0 0" scale="0.2 0.2 0.2"
               animation="property: position; to: 5 1.2 3; dur: 3000; delay: 600; startEvents: start;"
               easing="easeInOutQuad"></a-box>
        <a-box material="color: black; opacity: 0; wireframe: true" position="-2 3 3" rotation="0 0 0" scale="1 1 1"
               animation="property: components.material.material.opacity; from: 0; to: 1; dur: 3000; delay: 5000; startEvents: start;"
               easing="easeInOutQuad"></a-box>
        <a-box color="grey" position="-0.2 1 -1" rotation="0 0 0" scale="0.2 0.2 0.2"
               animation="property: position; to: 5 1.2 -2; dur: 3000; delay: 600; startEvents: start;"
               easing="easeInOutQuad"></a-box>

        <a-box color="grey" position="0.2 1.5 1" rotation="0 0 0" scale="0.2 0.2 0.2"
               animation="property: position; to: 2 3 4; delay: 3000; dur: 3000; startEvents: start;"
               easing="easeInOutQuad"
               animation__color="property: material.color; from: #808080; to: #FF0000; delay: 4000; dur: 2000; startEvents: start;"></a-box>
        <a-box color="grey" position="0.2 1.5 1" rotation="0 0 0" scale="0.3 0.3 0.3"
               animation="property: position; to: 3 4 5; delay: 3000; dur: 3000; startEvents: start;"
               easing="easeInOutQuad"
               animation__color="property: material.color; from: #808080; to: #FF0000; delay: 4000; dur: 2000; startEvents: start;"></a-box>
        <a-box color="grey" position="0.2 1.5 1" rotation="0 0 0" scale="0.2 0.2 0.2"
               animation="property: position; to: 1 1 4; delay: 3000; dur: 3000; startEvents: start;"
               easing="easeInOutQuad"
               animation__color="property: material.color; from: #808080; to: #FF0000; delay: 4000; dur: 2000; startEvents: start;"></a-box>
        <a-box color="grey" position="2 1.5 1" rotation="0 0 0" scale="0.2 0.2 0.2"
               animation="property: position; to: 2 1.2 3.5; delay: 3000; dur: 3000; startEvents: start;"
               easing="easeInOutQuad"
               animation__color="property: material.color; from: #808080; to: #FF0000; delay: 4000; dur: 2000; startEvents: start;"></a-box>
        <a-box color="grey" position="-2.8 1.5 1" rotation="0 0 0" scale="0.4 0.4 0.4"
               animation="property: position; to: -2 1 4; delay: 3000; dur: 3000; startEvents: start;"
               easing="easeInOutQuad"
               animation__color="property: material.color; from: #808080; to: #FF0000; delay: 4000; dur: 2000; startEvents: start;"></a-box>
        <a-box color="grey" position="-2.6 1.5 1" rotation="0 0 0" scale="0.2 0.2 0.2"
               animation="property: position; to: -1 0.8 4.5; delay: 3000; dur: 3000; startEvents: start; "
               easing="easeInOutQuad"
               animation__color="property: material.color; from: #808080; to: #FF0000; delay: 4000; dur: 2000; startEvents: start;"></a-box>
        <a-box color="grey" position="-2.4 1.5 1" rotation="0 0 0" scale="0.2 0.2 0.2"
               animation="property: position; to: -3 0 4; delay: 3000; dur: 3000" easing="easeInOutQuad"
               animation__color="property: material.color; from: #808080; to: #FF0000; delay: 4000; dur: 2000; startEvents: start;"></a-box>

        <a-box color="grey" position="-0.2 1 -1" rotation="0 0 0" scale="0.4 0.4 0.4"
               animation="property: position; to: 4 1.2 1; dur: 3000; delay: 100; startEvents: start;"
               easing="easeInOutQuad"
               animation__color="property: material.color; from: #808080; to: #FF0000; delay: 2000; dur: 2000; startEvents: start;"
               scene3end></a-box>

        <a-text color="black" position="-2.2 1.5 -2" scale="1 1 1" rotation="0 180 0" value="And"
                animation="property: position; to: 1.85 1.7 4; dur: 3000; delay: 400; startEvents: start;"></a-text>
        <a-text color="black" position="-1.8 1.5 -1" scale="1 1 1" rotation="0 180 0" value="reveal"
                animation="property: position; to: 1.4 1.7 4; dur: 3000; delay: 300; startEvents: start;"></a-text>
        <a-text color="red" position="-2.1 1.5 0" scale="1 1 1" rotation="0 180 0" value="hidden"
                animation="property: position; to: 0.75 1.7 4; dur: 3000; delay: 500; startEvents: start;"></a-text>
        <a-text color="black" position="-2.4 1.5 2" scale="1 1 1" rotation="0 180 0" value="obstacles"
                animation="property: position; to: 0.05 1.7 4; dur: 3000; delay: 800; startEvents: start;"></a-text>

    </a-entity>


    <a-entity id="dummyLogo" obj-model="obj:#threekeys-obj; mtl:#threekeys-mtl"
              scale="0 0 0" position="-10 1.6 0" rotation="90 180 90" model-opacity="0"
              light="type:directional; castShadow:true;" shadow="receive: true"
              animation__appear="property: scale; from: 0 0 0; to: 0.01 0.01 0.01; dur: 1; startEvents: start; delay: 1500;"
              animation__show="property: model-opacity; from: 0; to: 1; dur: 1; startEvents: start; delay: 1500;"
              animation__hide="property: model-opacity; from: 1; to: 0; dur: 1; startEvents: end;"
              animation__disapear="property: scale; to: 0; dur: 1; startEvents: end;"></a-entity>
    <a-entity id="dummyLogo2" logospin obj-model="obj:#threekeys-obj; mtl:#threekeys-mtl" model-opacity="0"
              scale="0.01 0.01 0.01" position="0 1.6 -10" rotation="90 90 90"
              animation__show="property: model-opacity; from: 0; to: 1; dur: 1; startEvents: start;"
              animation__hide="property: model-opacity; from: 1; to: 0; dur: 1; startEvents: end;"
              animation__disapear="property: scale; to: 0; dur: 1; startEvents: end;"
              light="type:directional; castShadow:true;" position="0 0 1" shadow="receive: true">
    </a-entity>

    <!-- Scene 4 -->
    <a-entity id="scene4" group-opacity="opacity: 0"
              animation__start4="property: group-opacity.opacity; from: 0; to: 1; startEvents: start;"
              animation__end4="property: group-opacity.opacity; from: 1; to: 0; startEvents: end;">

        <a-entity id="logo" obj-model="obj:#threekeys-obj; mtl:#threekeys-mtl"
                  scale="0.01 0.01 0.01" position="-10 100 0" rotation="90 180 90"
                  light="type:directional; castShadow:true;" shadow="receive: true"
                  animation="property: position; to: -10 1.6 0; dur: 2000; delay: 8000; startEvents: start;"
                  animation__2="property: rotation; to: 90 540 90; dur: 10000; delay: 10000; startEvents: start;"></a-entity>

        <a-text color="black" position="4 1.6 1" scale="0.5 0.5 0.5" rotation="0 90 0" value="At UBS Research Academy"
                animation="property: position; to: -3 1.6 2.2; dur: 3000; delay: 8000; startEvents: start;"
        ></a-text>
        <a-text color="black" position="4 1.2 0.9" scale="0.7 0.7 0.7" rotation="0 90 0" value="our"
                animation="property: position; to: -3 1.35 2.35; dur: 3000; delay: 9500; startEvents: start;"
        ></a-text>
        <a-text color="red" position="4 1.2 0.7" scale="0.7 0.7 0.7" rotation="0 90 0" value="#1"
                animation="property: position; to: -3 1.35 2.1; dur: 3000; delay: 9750; startEvents: start;"
        ></a-text>
        <a-text color="black" position="4 1.2 0.5" scale="0.7 0.7 0.7" rotation="0 90 0" value="rated analysts"
                animation="property: position; to: -3 1.35 1.9; dur: 3000; delay: 10000; startEvents: start;"
        ></a-text>

        <a-text color="black" position="4 1.6 -0.5" scale="0.5 0.5 0.5" rotation="0 90 0" value="deliver programmes"
                animation="property: position; to: -3 1.6 -0.9; dur: 3000; delay: 12000; startEvents: start;"
        ></a-text>
        <a-text color="black" position="4 1.2 -0.7" scale="0.5 0.5 0.5" rotation="0 90 0"
                value="that provide the tools\n techniques and insights"
                animation="property: position; to: -3 1.35 -0.9; dur: 3000; delay: 13000; startEvents: start;"
        ></a-text>

        <a-text color="black" position="4 1 1" scale="1 1 1" rotation="0 90 0" value="to uncover these new perspectives"
                animation="property: position; to: -3.75 0 2.3; dur: 3000; delay: 14000; startEvents: start;"
        ></a-text>
        <a-text color="black" position="4 1 -0.7" scale="1 1 1" rotation="0 90 0" value="and"
                animation="property: position; to: -3.0 0 1.2; dur: 3000; delay: 15000; startEvents: start;"
        ></a-text>
        <a-text color="red" position="4 1 -0.7" scale="1 1 1" rotation="0 90 0" value="sharpen"
                animation="property: position; to: -3.0 0 0.8; dur: 3000; delay: 15500; startEvents: start;"
        ></a-text>
        <a-text color="black" scene4end position="4 1 -0.7" scale="1 1 1" rotation="0 90 0" value="your investment edge"
                animation="property: position; to: -3.0 0 -0.05; dur: 3000; delay: 16000; startEvents: start;"
        ></a-text>
    </a-entity>

    <!-- Scene 5 - The Main Room -->
    <a-entity id="scene5" group-opacity="opacity: 0"
              animation__start5="property: group-opacity.opacity; from: 0; to: 1; startEvents: start;">

        <!-- Logo and Welcome -->
        <a-entity id="logo" logospin obj-model="obj:#threekeys-obj; mtl:#threekeys-mtl"
                  scale="0.01 0.01 0.01" position="0 1.6 -10" rotation="90 90 90" class="clickable"
                  animation="property: rotation; to: 90 450 90; dur: 10000; startEvents: start;"
                  animation__2="property: rotation; from: 90 90 90; to: 90 450 90; dur: 10000; startEvents: startspin;"
                  light="type:directional; castShadow:true;" position="0 0 1" shadow="receive: true">
        </a-entity>
        <a-text value="Welcome to the UBS Research Academy" color="black" align="center" opacity="0"
                position="0 1.2 -1" scale="0.2 0.2 0.2"
                animation__text_fadein="property: text.opacity; from: 0; to: 1; dur: 1000; delay: 1000; startEvents: start;"
        ></a-text>
        <a-text value="Pan right to continue" color="black" align="center" opacity="0"
                position="0 1.1 -1" scale="0.1 0.1 0.1"
                animation__text_fadein="property: text.opacity; from: 0; to: 1; dur: 1000; delay: 2000; startEvents: start;"
        ></a-text>
        <a-entity obj-model="obj:#arrow-obj; mtl:#arrow-mtl" model-opacity="0"
                  scale="0.5 0.5 0.5" position="-0.1 -0.1 -2.5" rotation="90 90 90"
                  animation="property: position; from: -2 0 -2.5; to: 1 0 -2.5; dur: 3000; loop: true;"
                  animation__text_fadein="property: model-opacity; from: 0.0; to: 1.0; dur: 500; delay: 2000; startEvents: start;"
                  light="type:directional; castShadow:true;" position="0 0 1" shadow="receive: true">
        </a-entity>

        <!-- First Video Panel -->
        <a-video id="videoPanel" video src="#video" class="clickable" rotation="0 -90 0" width="2" height="1.125"
                 position="2 1.7 0"></a-video>
        <a-text value="What is UBS Research Academy?" color="black" align="center" position="2 1 0" scale="0.2 0.2 0.2"
                rotation="0 -90 0"></a-text>
        <a-entity id="videoIcon1" obj-model="obj:#video-icon-obj; mtl:#video-icon-mtl"
                  scale="0.1 0.1 0.1" position="2 1.7 0" rotation="0 -90 0"
                  light="type:directional; castShadow:true;" position="0 0 1" shadow="receive: false">
        </a-entity>

        <!-- Instructors Panel -->
        <a-text value="Meet Your Instructors" color="black" align="center" opacity="0"
                position="0 2 0.8" scale="0.2 0.2 0.2" rotation="0 180 0"
                animation__text_fadein="property: text.opacity; from: 0; to: 1; dur: 1000; delay: 2000; startEvents: start;"
        ></a-text>
        <a-image profile src="#geoff" class="clickable" width="0.25" height="0.25" position="0.6 1.7 0.8"
                 rotation="0 180 0">
            <a-text value="Geoff Robinson FCA CFM\n
                              Global Head of Fundamental Analytics\n
                              Head of the UBS Research Academy\n
                              Managing Director\n
                              Geoff used to be a consultant. Now he is a #1-ranked analyst in Europe* and the only analyst on the UBS platform to be simultaneously top-ranked in the US*. He leads the client-facing aspect of the Fundamental Analytics team.\n
                              He is also lead of the UBS Research Academy, responsible for the end-to-end learning delivery to clients. Geoff is the lead author of the Research Academy's book Build Better Models."
                    wrap-count="100" color="black" align="left" position="0.05 -0.15 0.15" scale="0.15 0.15 0.15"
                    baseline="top" visible="false"></a-text>
        </a-image>
        <a-image profile src="#helen" class="clickable" width="0.25" height="0.25" position="0.35 1.7 0.8"
                 rotation="0 180 0">
            <a-text value="Helen Bancroft FCA\n
                              UBS Research Academy\n
                              Senior Instructor\n
                              Having initially qualified as a Chartered Accountant with BDO Helen started her career in the provision of professional exam training covering business analysis and management, tax and corporate restructuring.\n
                              Moving into bespoke training in 2007 she has since developed and run extensive courses across major financial centres to analysts at seven of the top 10 (by revenue) investment banks, private equity and hedge funds, corporates and boutique M&A firms."
                    wrap-count="100" color="black" align="left" position="-0.2 -0.15 0.15" scale="0.15 0.15 0.15"
                    baseline="top" visible="false"></a-text>
        </a-image>
        <a-image profile src="#neil" class="clickable" width="0.25" height="0.25" position="0.1 1.7 0.8"
                 rotation="0 180 0">
            <a-text value="Neil Pande FCA CFA\n
                              UBS Research Academy\n
                              Senior Instructor\n
                              Since graduating from Cambridge University and qualifying as a Chartered Accountant at Arthur Andersen in London, Neil has spent over 20 years as a financial training consultant, working at some of the largest financial training providers.\n
                              At first, preparing candidates for exams such as the CFA, and becoming a CFA Charterholder himself.\n
                              But mostly, helping graduate buy-side and sell-side equity and credit research analysts, as well as M&A, ECM, DCM and Leveraged Finance bankers, at many of the most prominent financial institutions in London, New York, Hong Kong and other global financial centres, get desk-ready for their roles."
                    wrap-count="100" color="black" align="left" position="-0.45 -0.15 0.15" scale="0.15 0.15 0.15"
                    baseline="top" visible="false"></a-text>
        </a-image>
        <a-image profile src="#rob" class="clickable" width="0.25" height="0.25" position="-0.15 1.7 0.8"
                 rotation="0 180 0">
            <a-text value="Rob Morgan CFA\n
                              UBS Research Academy\n
                              Senior Instructor\n
                              Rob has been leading teaching courses in the financial markets since 2002. Rob teaches a number of professional qualifications, including the Chartered Financial Analysts program (CFA). Rob also trains on technical finance courses covering general financial markets, private wealth management and asset management for a range of clients on a tailored basis to a range of audiences."
                    wrap-count="100" color="black" align="left" position="-0.7 -0.15 0.15" scale="0.15 0.15 0.15"
                    baseline="top" visible="false"></a-text>
        </a-image>
        <a-image profile src="#amar" class="clickable" width="0.25" height="0.25" position="-0.4 1.7 0.8"
                 rotation="0 180 0">
            <a-text value="Amar Hamoudi Ph.D\n
                              Global Head of New Analytic Approaches\n
                              Executive Director\n
                              Amar joined UBS in June 2019 in order to bring the scientific method of hypothesis driven empirical research to sell-side analysis. What are the general principles that (often, implicitly) underlie an analysts investment thesis? How can those principles, once explicated, be taken to data in order to be validated and sharpened? What questions can be answered through the considered application of statistical techniques, and – perhaps more importantly – what questions cannot?"
                    wrap-count="100" color="black" align="left" position="-0.95 -0.15 0.15" scale="0.15 0.15 0.15"
                    baseline="top" visible="false"></a-text>
        </a-image>
        <a-image profile src="#courtney" class="clickable" width="0.25" height="0.25" position="-0.65 1.7 0.8"
                 rotation="0 180 0">
            <a-text value="Courtney Cook CFA\n
                              Head of the Interactive Modelling & Visualization /  Fundamental Analytics\n
                              Executive Director\n
                              Courtney Cook joined UBS in March 2014 in London to create innovative products for research. He established a set of tools and techniques to efficiently create interactive simulations to supplement research notes. These products were rapidly adopted globally and continued to grow steadily with the support of his Interactive team. He also provides internal training on Excel formulas, automation and visual techniques."
                    wrap-count="100" color="black" align="left" position="-1.2 -0.15 0.15" scale="0.15 0.15 0.15"
                    baseline="top" visible="false"></a-text>
        </a-image>

        <!-- Second Video Panel -->
        <a-video id="sample1video" sample1video src="#sample1" class="clickable" rotation="0 90 0" width="1.5"
                 height="1"
                 position="-2 1.7 0.8"></a-video>
        <a-text value="Example 1: Dealing with Disruption" color="black" align="center" position="-2 1 0.8"
                scale="0.2 0.2 0.2"
                rotation="0 90 0"></a-text>
        <a-video id="sample2video" sample2video src="#sample2" class="clickable" rotation="0 90 0" width="1.5"
                 height="1"
                 position="-2 1.7 -0.8"></a-video>
        <a-text value="Example 2: Valuing Uncertainty" color="black" align="center" position="-2 1 -0.8"
                scale="0.2 0.2 0.2"
                rotation="0 90 0"></a-text>
        <a-entity id="videoIcon2" obj-model="obj:#video-icon-obj; mtl:#video-icon-mtl"
                  scale="0.1 0.1 0.1" position="-2 1.7 0.8" rotation="0 90 0"
                  light="type:directional; castShadow:true;" position="0 0 1" shadow="receive: false">
        </a-entity>
        <a-entity id="videoIcon3" obj-model="obj:#video-icon-obj; mtl:#video-icon-mtl"
                  scale="0.1 0.1 0.1" position="-2 1.7 -0.8" rotation="0 90 0"
                  light="type:directional; castShadow:true;" position="0 0 1" shadow="receive: false">
        </a-entity>

        <!-- Floor Call to Action Buttons -->
        <a-plane button class="clickable" id="cta_button" color="white" rotation="-90 -90 0" align="center"
                 position="4 -1 0" width="4" height="1" material="transparent: true; opacity: 0;"
                 animation__button_fadein="property: components.material.material.opacity; from: 0; to: 1; dur: 3000; delay: 10000; startEvents: start;">
            <a-text id="videoButtonText" value="Contact Us" color="red" scale="1.1 1.1 1.1" opacity="0"
                    align="center"
                    animation__buttontext_fadein="property: text.opacity; from: 0; to: 1; dur: 3000; delay: 10000; startEvents: start;">
            </a-text>
        </a-plane>
        <a-plane button class="clickable" id="cta_button2" color="white" rotation="-90 180 0" align="center"
                 position="0 -1 4" width="4" height="1" material="transparent: true; opacity: 0;"
                 animation__button_fadein="property: components.material.material.opacity; from: 0; to: 1; dur: 3000; delay: 10000; startEvents: start;">
            <a-text id="videoButtonText" value="Contact Us" color="red" scale="1.1 1.1 1.1" opacity="0"
                    align="center"
                    animation__buttontext_fadein="property: text.opacity; from: 0; to: 1; dur: 3000; delay: 10000; startEvents: start;">
            </a-text>
        </a-plane>
        <a-plane button class="clickable" id="cta_button3" color="white" rotation="-90 90 0" align="center"
                 position="-4 -1 0" width="4" height="1" material="transparent: true; opacity: 0;"
                 animation__button_fadein="property: components.material.material.opacity; from: 0; to: 1; dur: 3000; delay: 10000; startEvents: start;">
            <a-text id="videoButtonText" value="Contact Us" color="red" scale="1.1 1.1 1.1" opacity="0"
                    align="center"
                    animation__buttontext_fadein="property: text.opacity; from: 0; to: 1; dur: 3000; delay: 10000; startEvents: start;">
            </a-text>
        </a-plane>
    </a-entity>

</a-scene>
</body>
</html>
